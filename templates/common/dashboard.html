{% extends 'layout.html' %} {% load static %}
{% block title %}
Dashboard
{% endblock title %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock css %} {% block content %}

<section id="dashboard" class="content inner">
  <div class="dashboard__title">
    <p>Dashboard</p>
  </div>
  <div class="dashboard__content_top">
    <div class="content__left">
      <div class="customer_data">
        <div class="datas">
          <div class="profile_picture">
            <img src="img/mini_jae.png" />
          </div>
          <div class="names">
            <p>{{user.nickname}} 님</p>
          </div>
        </div>
        <div class="edit__btns">
          <button class="btn btn_gray">
            <a href="{% url 'common:profile' user.id %}">See Profile</a>
          </button>
        </div>
      </div>
      <div class="levels">
        <div class="level_picture">
          <p>2</p>
        </div>
        <div class="descrip">
          <p>Level 2</p>
          <p>다음 단계를 위해서 세부 계획 3개를 더 완료하세요!</p>
        </div>
      </div>
    </div>
    <div class="content__right">
      <div class="badges">
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons">language</span>
          </div>
          <p>목표1</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons">code</span>
          </div>
          <p>목표2</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons">space_dashboard</span>
          </div>
          <p>목표3</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons">sentiment_satisfied</span>
          </div>
          <p>목표4</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> self_improvement </span>
          </div>
          <p>목표5</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> savings </span>
          </div>
          <p>목표6</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> people_outline </span>
          </div>
          <p>목표7</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
        <div class="badge_item">
          <div class="badge">
            <span class="material-icons"> movie_creation </span>
          </div>
          <p>목표8</p>
        </div>
      </div>
    </div>
  </div>
  <div class="dashboard__content_bottom">
    <div class="manda__nav">
      <div class="manda__name">
        <script>
          document.write('{{user.nickname}}님의 만다라트');
        </script>
      </div>
      <div class="manda__options_btn" id="manda_options_btn">
        <div >
          <button class="btn__mode_table"><i class="fa fa-th"></i></button>
        </div>
        <div >
          <button class="btn__mode_checkbox"><i class="fa fa-th-list"></i></button>
        </div>

        <div class="btn__manda_edit">
          <button cursor="pointer"><i class="fa fa-pencil"></i></button>
        </div>
        <div class="btn__manda_delete">
          <button><i class="fa fa-trash"></i></button>
        </div>
      </div>
    </div>
    <br>
    <div class="manda__contents" id="manda_contents">
      <div class="manda__content">
        <div class="manda__table" id="manda_table">
          <script>
            for(let i = 1; i <= 9; i++) {
                document.write('<div class="box" id="box'+i+'">')
                for(let j = 1; j <= 9; j++){
                    document.write('<input class="element" id="element'+j+'"" autocomplete="on" readonly></input>');
                }
                document.write('</div>')
            }
          </script>
        </div>
        <div class="manda__checkbox" id="manda_checkbox">
          <div class="manda__checkbox_up">
            <div class="object" id="object1">
              <div class="object__mid" id="object__mid1">
                {{manda_mid1}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div><br>
            <div class="object" id="object2">
              <div class="object__mid" id="object__mid2">
                {{manda_mid2}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
            <div class="object" id="object3">
              <div class="object__mid" id="object__mid3">
                {{manda_mid3}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
            <div class="object" id="object4">
              <div class="object__mid" id="object__mid4">
                {{manda_mid4}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
          </div>
          <div class="manda__checkbox_down">
            <div class="object" id="object5">
              <div class="object__mid" id="object__mid5">
                {{manda_mid5}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
            <div class="object" id="object6">
              <div class="object__mid" id="object__mid6">
                {{manda_mid6}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
            <div class="object" id="object7">
              <div class="object__mid" id="object__mid7">
                {{manda_mid7}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
            <div class="object" id="object8">
              <div class="object__mid" id="object__mid8">
                {{manda_mid8}}
              </div>
              <script>
                for(let j = 1; j <= 8; j++){
                document.write('<br><div class="object__small"><label for="obj'+j+'"></label>');
                document.write('<input type="checkbox" class="elements" id="obj'+j+'">세부목표 '+j+'</input></div>');
              }</script>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- JAVASCRIPT -->
    <script>
      let curPos = 0;
      let postion = 0;
      const IMAGE_WIDTH = 1350;
      const tableBtn = document.querySelector(".btn__mode_table")
      const checkboxBtn = document.querySelector(".btn__mode_checkbox")
      const content = document.querySelector(".manda__contents")
      
      function table(){
        if(curPos > 0){
          checkboxBtn.removeAttribute("disabled")
          postion += IMAGE_WIDTH;
          content.style.transform = `translateX(${postion}px)`;
          curPos = curPos - 1;
        }
        if(curPos == 0){
          tableBtn.setAttribute('disabled', 'true')
        }
      }
      function checkbox(){
        if(curPos < 1){
          tableBtn.removeAttribute("disabled")
          postion -= IMAGE_WIDTH;
          content.style.transform = `translateX(${postion}px)`;
          curPos = curPos + 1;
        }
        if(curPos == 1){
          checkboxBtn.setAttribute('disabled', 'true')
        }
      }
      
      function init(){
        tableBtn.setAttribute('disabled', 'true')
        tableBtn.addEventListener("click", table)
        checkboxBtn.addEventListener("click", checkbox)
      }
      
      init();
    </script>
  </div>
</section>
{% endblock content %}